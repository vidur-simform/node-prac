<%- include('../includes/head.ejs') %>
    <%- include('../includes/navigation.ejs') %>
        <div class="cont">

            <h1>
                <% if(editing){%> EDIT PRODUCT <%} else {  %> ADD PRODUCT <% } %>
            </h1>
            <form class="form1" action="/admin/<% if (editing) { %>edit-product<% } else { %>add-product<% } %>"
                method="POST" enctype="multipart/form-data" novalidate>
                <% if (errorMessage) { %>
                    <div class="user-message user-message--error"><%= errorMessage %></div>
                    <% } %>
                <div class="form-group">
                    <label for="product-name">Product Name</label>
                    <input type="text" name="name" class="form-control" id="product-name"
                        placeholder="Enter name of product..." value="<%if(editing || hasError){%><%=product.name%><%}%>" required>
                </div>
                <div class="form-group">
                    <label for="product-image">Product Image</label>
                    <input type="file" 
                    name="image" 
                    class="form-control" 
                    id="product-image"
                    required>
                </div>
                <div class="form-group">
                    <label for="product-price">Product Price</label>
                    <input type="number" step="0.01" name="price" class="form-control" id="product-price"
                        placeholder="Enter price of product..." value="<% if(editing || hasError){%><%= product.price %><%} %>" required>
                </div>
                <div class="form-group">
                    <label for="product-description">Product Description</label>
                    <input type="text" name="description" class="form-control" id="product-description"
                        placeholder="Enter description of product..." value="<% if(editing || hasError){%><%=product.description%><%}%>" required>
                </div>
                <% if (editing) { %>
                    <input type="hidden" value="<%= product._id %>" name="productId">
                <% } %>
                <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
                <center><button type="submit" id="add-btn" class="btn btn-lg btn-primary">Submit</button></center>
                <br>
            </form>
        </div>

        <%- include('../includes/end.ejs') %>